<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE TEI.2 SYSTEM "tei_bawe.dtd"><TEI.2 id="_0356b" n="version 1.0"><teiHeader><fileDesc><titleStmt><title>Mitsubishi M16C microcontroller Control Applications</title></titleStmt><extent/><publicationStmt><distributor>British Academic Written English (BAWE) corpus</distributor><availability><p>The British Academic Written English (BAWE) corpus was developed at the Universities of Warwick, Reading and Oxford Brookes, under the directorship of Hilary Nesi and Sheena Gardner (formerly of the Centre for Applied Linguistics [previously called CELTE], Warwick), Paul Thompson (Department of Applied Linguistics, Reading) and Paul Wickens (Westminster Institute of Education, Oxford Brookes), with funding from the ESRC. Subject to the rights of the these institutions in the BAWE corpus, and pursuant to the ESRC agreement, the BAWE corpus is available to researchers for research purposes PROVIDED THAT the following conditions are met:</p><p>1. The corpus files are not distributed in either their original form or in modified form.</p><p>2. The texts are used for research purposes only; they should not be reproduced in teaching materials.</p><p>3. The texts are not reproduced in full for a wider audience/readership, although researchers are free to quote short passages of text (up to 200 running words from any given text).</p><p>4. The BAWE corpus developers (contact: Hilary Nesi) are informed of all projects, dissertations, theses, presentations or publications arising from analysis of the corpus.</p><p>5. Researchers acknowledge their use of the corpus using the following form of words: "The data in this study come from the British Academic Written English (BAWE) corpus, which was developed at the Universities of Warwick, Reading and Oxford Brookes under the directorship of Hilary Nesi and Sheena Gardner (formerly of the Centre for Applied Linguistics [previously called CELTE], Warwick), Paul Thompson (Department of Applied Linguistics, Reading) and Paul Wickens (Westminster Institute of Education, Oxford Brookes), with funding from the ESRC (RES-000-23-0800)."</p></availability></publicationStmt><notesStmt><note resp="British Academic Written English (BAWE) corpus project">The document has a title page which contains:
document title
title part</note><note resp="British Academic Written English (BAWE) corpus project">Language used in quote: <foreign id="English">English</foreign></note><note resp="British Academic Written English (BAWE) corpus project">deleted: header: student name and number; foooter: page numbers</note></notesStmt><sourceDesc><p n="level">2</p><p n="date">2007-02</p><p n="module title">Computer Systems</p><p n="module code">ES2A2</p><p n="genre family">Methodology recount</p><p n="discipline">Engineering</p><p n="disciplinary group">PS</p><p n="grade">M</p><p n="number of authors">1</p><p n="number of words">781</p><p n="number of s-units">22</p><p n="number of p">12</p><p n="number of tables">2</p><p n="number of figures">0</p><p n="number of block quotes">1</p><p n="number of formulae">0</p><p n="number of lists">0</p><p n="number of paragraphs formatted like lists">0</p><p n="abstract present">no abstract</p><p n="average words per s-unit">35.5</p><p n="average s-units per p">1.8</p><p n="macrotype of assignment">simple assignment</p></sourceDesc></fileDesc><encodingDesc><p>TEI P4 (documented in: BAWE.documentation.pdf)</p></encodingDesc><profileDesc><particDesc><person><p n="gender">m</p><p n="year of birth">1986</p><p n="first language">Sinhala</p><p n="education">OSA</p><p n="course">Engineering Business Management</p><p n="student ID">0356</p></person></particDesc></profileDesc></teiHeader><text><front><titlePage><titlePart rend="bold">ES2A2 COMPUTER SYSTEMS</titlePart><docTitle><titlePart>Mitsubishi M16C microcontroller Control Applications</titlePart></docTitle><titlePart>By<name type="student name"/><name type="student ID"/></titlePart></titlePage><div1 type="toc" n="1"><head>Table of Contents</head><p/></div1></front><body><div1 type="section"><head rend="bold">Introduction</head><p n="p1.12"><s n="s1.4;p1.12">The experiment was carried out using a Mitsubishi M16 microcontroller and IER Embedded Workbench. </s><s n="s2.4;p1.12">The given incomplete code which was written in C was completed, then debugged using C-Spy and executed via the hardware. </s><s n="s3.4;p1.12">This procedure was used to control one of the two 7-segmant LED displays to display a clockwise rotational pattern, all segments simultaneously and decimal point. </s><s n="s4.4;p1.12">Then the pattern starts again. </s></p></div1><div1 type="section"><head rend="bold">Procedure</head><p n="p2.12"><s n="s1.2;p2.12">First the IER Embedded Workbench is opened and a new project is opened. </s><s n="s2.2;p2.12">This program supports the Mitsubishi M16 microprocessor. </s></p><p n="p3.12"><s n="s1.4;p3.12">Then the created project is set to default factory settings after choosing ICCM16C and X-Link in the project options. </s><s n="s2.4;p3.12">The program C-Spy was chosen as the debugger. </s><s n="s3.4;p3.12">Then in the project files the incomplete C code, .xcl file and .s34 file was selected. </s><s n="s4.4;p3.12">Then the incomplete C code was opened and the missing codes were entered. </s></p><p n="p4.12"><s n="s1.3;p4.12">The M16C development board was then connected to the power supply and the PC via the serial link. </s><s n="s2.3;p4.12">Then the circuit board was switched on and .s34 and .xcl files were added to the project. </s><s n="s3.3;p4.12">The C-Spy was run as the debugger and the program was executed in the ROM monitor mode via the M16 development board. </s></p><p n="p5.12"><s n="s1.1;p5.12">Then a clockwise rotational pattern display, simultaneous all segment display and the decimal point display could be observed repeatedly on the first 7-segment LED display. </s></p><div2><head rend="bold">Problems encountered in Completing the missing codes in the C program Code:</head><p n="p6.12"><s n="s1.1;p6.12">Even though there was a slight problem with figuring out the missing hex codes for the right LED segments, after studying the hex code to binary code conversion and the pattern in the unsigned char display codes it was easy. </s></p><p n="p7.12"><s n="s1.1;p7.12">The rest of the missing codes were straight forward but there was a code missing in the main loop with out the 'missing code' sign. </s></p><p n="p8.12"><s n="s1.2;p8.12">The other difficulty was that the C file (ass2.c) provided was a corrupted file and could not be opened using the project in the IER workbench software. </s><s n="s2.2;p8.12">The C code had to be opened in Microsoft Visual Studio the copied to the C file in the IER Workbench. </s></p></div2></div1><div1 type="section"><head rend="bold">Basic Hardware Configuration</head><table id="BAWE_0356b-tab.001"><row><cell/></row></table><p n="p9.12"><s n="s1.1;p9.12">There are two seven segment displays which are both connected to P 0 input/output port.P 0 is a 8-bit input/output port and the direction of the port is configured by PD 0(8-bit register) so each bit can be individually set to input or output. </s></p><p n="p10.12"><s n="s1.2;p10.12">The 8 pins in the port map on to the 7 segment display and the decimal point according to the table above. </s><s n="s2.2;p10.12">These pins first go through a buffer IC to power the LEDs on the display. </s></p></div1><div1 type="section"><head rend="bold">Display Codes</head><p n="p11.12"><s n="s1.1;p11.12">The bit patterns to display different segments in the display are defined in the program as 8 bit hex numbers and the table bellow displays the 8-bit hex numbers and their corresponding numbers in binary. </s></p><table id="BAWE_0356b-tab.002"><row><cell/></row></table></div1><div1 type="section"><head rend="bold">Commented program with missing codes (ass2.c)</head><quote lang="English">/* Filename:Ass2i.c This program is written for the M16C/62 microcontroller embedded in the Mitsubishi M16C/62development board. It keeps a moving one segment clockwise on LED1 then outputs all segment the decimal point then starts again from segment a. */ #define Chip_3062x #include "stdio.h" #include "iom16c62.h" /* Define the lookup table for the LEDs in terms of bytes related to the seven segments */ unsigned char dis_code [10] = { 0xFE, 0xFD, 0xFB, 0xF7, 0xEF, 0xDF, 0xBF, 0x7F, 0x00, 0x00}; // (part of the hex code was missing), the codes refer to different parts of the 7-segment display. // FE=11111110 //FD=11111101 //FB=11111011 //F7=11110111 //EF=11101111 //DF=11011111 //BF=10111111 //7F=01111111 //00=00000000 //00=00000000 int count; /* Delay function */ void wait (unsigned long delay) { while (delay !=0) // this loop will continue till delay is not equal to zero delay--; // the value of delay is reduced by 1 } void main(void) { /* Set the direction of all port 0 bits to output. */ PD0 = 0x0FF; // (this was a missing code), the direction is set to output in port 0 bits /* Set the direction of the LED enable to output. */ PD1.0 = 1; // (this was a missing code), the direction of the LEDs set to output PD1.1 = 1; /* Set port0 bits to "1" */ P0 = 0x0FF; // (this was a missing code), port 0 bits set to 1 P1.0 = 1; // displays are turned off P1.1 = 1; count = 0; // the count is initialised while (1) // this loop continues till infinity { { P0 = dis_code[count%10]; // remainder resulting from dividing count by 10 P1.1 = 1; // would light the first LED P1.0=0; wait( 100000 ); // this delays the process by 0.1 secs count++; // increases count } } }</quote><p n="p12.12"/></div1></body><back/></text></TEI.2>
